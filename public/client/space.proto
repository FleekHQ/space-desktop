syntax = "proto3";
import "google/protobuf/empty.proto";
package space;
service SpaceApi {
  rpc ListDirectories(ListDirectoriesRequest) returns (ListDirectoriesResponse) {}
  rpc GetConfigInfo(google.protobuf.Empty) returns (ConfigInfoResponse) {}
  rpc GetPathInfo(PathInfoRequest) returns (PathInfoResponse) {}
  rpc GenerateKeyPair(GenerateKeyPairRequest) returns (GenerateKeyPairResponse) {}
  rpc GenerateKeyPairWithForce(GenerateKeyPairRequest) returns (GenerateKeyPairResponse) {}
  rpc Subscribe(google.protobuf.Empty) returns (stream FileEventResponse) {}
}
message ListDirectoriesRequest {
}
message ListDirectoryEntry {
  string path = 1;
  bool isDir = 2;
  string name = 3;
  string sizeInBytes = 4;
  string created = 5;
  string updated = 6;
  string fileExtension = 7;
}
message ListDirectoriesResponse {
  repeated ListDirectoryEntry entries = 1;
}
message ConfigInfoResponse {
  string folderPath = 1;
  string port = 2;
  string appPath = 3;
}
message PathInfoRequest {
  string path = 1;
}
message PathInfoResponse {
  string path = 1;
  string ipfsHash = 2;
  bool isDir = 3;
}
message GenerateKeyPairRequest {}
message GenerateKeyPairResponse {
  string publicKey = 1;
  string privateKey = 2;
}
message FileEventResponse {
  string path = 1;
}
